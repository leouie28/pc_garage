(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{294:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{items:[],payload:{id:"",type:"",onSystem:"1",name:"",description:""},original:{id:"",type:"",onSystem:"1",name:"",description:""},dpItems:[],typeWaiting:!1,part:["motherboard","cpu/processor","ram/memory","hard drive/storage","power supply","gpu/graphics card","case","monitor","peripherals"],required:[function(t){return!!t||"This field is required!"}]}},props:{type:""},created:function(){this.searchItem},methods:{close:function(){this.$emit("close"),this.payload=JSON.parse(JSON.stringify(this.original))},searchItem:function(){var t=this;console.log(this.payload.name),this.payload.name.length>=3&&(this.typeWaiting||setTimeout((function(){var e=t.payload.name;axios.get("/admin-api/compatibility/search-item?dp=".concat(e)).then((function(e){var a=e.data;t.dpItems=a})),t.typeWaiting=!1}),500),this.typeWaiting=!0)},validateComponent:function(){this.payload.type&&""!=this.payload.type||alert('Please fillup first the "Component Type field"')},save:function(){"1"==this.payload.onSystem?this.payload.id||this.payload.type?(this.$emit("save",this.payload),this.payload=JSON.parse(JSON.stringify(this.original))):alert("Important field need to fillup..."):this.payload.name||this.payload.type?(this.$emit("save",this.payload),this.payload=JSON.parse(JSON.stringify(this.original))):alert("Important field need to fillup...")},getByType:function(){var t=this,e=this.payload.type;axios.get("/admin-api/compatibility/search-item?type=".concat(e)).then((function(e){var a=e.data;t.items=a}))}},watch:{type:{handler:function(t){t&&(this.payload.type=t)},deep:!0,immediate:!0},"payload.type":{handler:function(t){t&&this.getByType()},immediate:!0,deep:!0},"payload.onSystem":{handler:function(t){t&&(this.payload.name="")},immediate:!0,deep:!0}}},s=a(1),n={components:{ItemForm:Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Compatibility Item Info")])]),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-autocomplete",{ref:"type",attrs:{label:"Component Type*",dense:"",items:t.part,filled:"","hide-details":"",rules:t.required},model:{value:t.payload.type,callback:function(e){t.$set(t.payload,"type",e)},expression:"payload.type"}})],1),t._v(" "),a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-radio-group",{staticClass:"py-0 my-0",attrs:{row:"","hide-details":"",dense:""},model:{value:t.payload.onSystem,callback:function(e){t.$set(t.payload,"onSystem",e)},expression:"payload.onSystem"}},[a("v-radio",{attrs:{label:"On our system",value:"1"}}),t._v(" "),a("v-radio",{attrs:{label:"Out of the system",value:"0"}})],1)],1),t._v(" "),a("v-col",{attrs:{md:"12",cols:"12"}},["1"==t.payload.onSystem?a("v-autocomplete",{attrs:{label:"Item/Product Name*",dense:"",items:t.items,"item-value":"id","item-text":"name",filled:"","hide-details":"",rules:t.required},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item;return[a("v-avatar",{staticStyle:{border:"1px solid #ccc"},attrs:{size:"35",tile:""}},[a("img",{attrs:{src:i.images.length>0?"/images/products/"+i.id+"/"+i.images[0].file_name:"/images/default/noimage.png"}})]),t._v(" "),a("span",{staticClass:"pa-2"},[t._v(t._s(i.name))])]}},{key:"item",fn:function(e){var i=e.item;return[a("v-avatar",{staticStyle:{border:"1px solid #ccc"},attrs:{size:"35",tile:""}},[a("img",{attrs:{src:i.images.length>0?"/images/products/"+i.id+"/"+i.images[0].file_name:"/images/default/noimage.png"}})]),t._v(" "),a("span",{staticClass:"pa-2"},[t._v(t._s(i.name))])]}}],null,!1,2339009532),model:{value:t.payload.id,callback:function(e){t.$set(t.payload,"id",e)},expression:"payload.id"}}):t._e(),t._v(" "),"0"==t.payload.onSystem?a("v-menu",{attrs:{"offset-y":"",tile:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-text-field",t._g({attrs:{label:"Item/Product Name*",dense:"",placeholder:"Item/Product Name",filled:"","hide-details":"",rules:t.required},on:{keyup:t.searchItem},model:{value:t.payload.name,callback:function(e){t.$set(t.payload,"name",e)},expression:"payload.name"}},i))]}}],null,!1,1025821371)},[t._v(" "),t.dpItems.length>0?a("v-list",t._l(t.dpItems,(function(e){return a("v-list-item",{key:e.id,on:{click:function(a){t.payload.id=e.id,t.payload.name=e.name}}},[a("v-list-item-title",[t._v("\n                                    "+t._s(e.name)+"\n                                ")])],1)})),1):t._e()],1):t._e()],1),t._v(" "),a("v-expand-transition",["0"==t.payload.onSystem?a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-textarea",{attrs:{label:"Description*",dense:"",placeholder:"Item description..",filled:"","hide-details":"",rules:t.required,required:""},model:{value:t.payload.description,callback:function(e){t.$set(t.payload,"description",e)},expression:"payload.description"}})],1):t._e()],1)],1),t._v(" "),a("v-row",{attrs:{justify:"end"}},[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:t.close}},[t._v("\n                    Cancel\n                ")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{color:"success"},on:{click:t.save}},[t._v("\n                    Add Item\n                ")])],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer")],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{type:"",warning:!1,showForm:!1,selected:{val:{name:""}},set:{data:{name:"",description:""},items:[],isEmpty:1}}},mounted:function(){this.setItem()},methods:{setItem:function(){var t=this,e=this.$route.params.id;axios.get("/admin-api/compatibility/".concat(e)).then((function(e){var a=e.data;t.set=a}))},save:function(t){var e=this;t.set_id=this.$route.params.id,this.showForm=!1,axios.post("/admin-api/compatibility/add-item",t).then((function(t){var a=t.data;e.newAlert(!0,a.type,a.message),e.type="",e.setItem()}))},removeWarning:function(t,e){this.selected={val:t,key:e},this.warning=!0},removeItem:function(){var t=this;this.warning=!1;var e={set_id:this.set.data.id,item:this.selected.val,item_key:this.selected.key};axios.post("/admin-api/compatibility/remove-item",e).then((function(e){var a=e.data;t.newAlert(!0,a.type,a.message),t.setItem()}))}}},o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",[t._v("\n            Compatibility Profile\n            "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"success",outlined:""},on:{click:function(e){t.showForm=!0}}},[t._v("\n                Add Item\n                "),a("v-icon",[t._v("mdi-plus")])],1),t._v(" "),a("v-btn",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-backspace")]),t._v("\n                Back\n            ")],1)],1),t._v(" "),a("v-card-text",[a("v-row",[a("v-col",{attrs:{md:"4",cols:"12"}},[a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-text-field",{attrs:{dense:"",outlined:"",readonly:"",value:"Test Set","hide-details":"",label:"Set Name"},model:{value:t.set.data.name,callback:function(e){t.$set(t.set.data,"name",e)},expression:"set.data.name"}})],1),t._v(" "),a("v-col",{attrs:{md:"12",cols:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",readonly:"",value:"Lorem ipsum","hide-details":"",label:"Description"},model:{value:t.set.data.description,callback:function(e){t.$set(t.set.data,"description",e)},expression:"set.data.description"}})],1)],1),t._v(" "),a("v-col",{staticStyle:{"border-left":"1px solid #BDBDBD"},attrs:{md:"8",cols:"12"}},[t.set.isEmpty>0?a("div",[t._l(t.set.items,(function(e,i){return[e.length>0?a("v-card",{key:i,staticClass:"mb-3"},[a("v-card-text",[a("v-subheader",[a("v-icon",{staticClass:"mr-2"},[t._v("mdi-devices")]),t._v(" "),a("span",{staticClass:"text-h6 text-capitalize"},[t._v(t._s(i))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(e){t.showForm=!0,t.type=i}}},[a("v-icon",[t._v("\n                                                mdi-plus-circle\n                                            ")])],1)],1),t._v(" "),e.length>0?a("v-chip-group",{attrs:{column:""}},[t._l(e,(function(e){return[e.name?a("v-chip",{key:e.id,attrs:{close:"",label:""},on:{"click:close":function(a){return t.removeWarning(e,i)}}},[t._v("\n                                                "+t._s(e.name)+"\n                                            ")]):t._e()]}))],2):a("v-subheader",{staticClass:"d-flex justify-center"},[t._v("No data...")])],1)],1):t._e()]}))],2):a("empty")],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("item-form",{attrs:{type:t.type},on:{close:function(e){t.showForm=!1},save:t.save}})],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.warning,callback:function(e){t.warning=e},expression:"warning"}},[a("v-card",[a("v-card-title",[t._v("Warning")]),t._v(" "),a("v-card-text",{staticClass:"text-center"},[t._v("\n                Are you sure you want to remove "),a("span",{staticClass:"red--text"},[t._v('"'+t._s(t.selected.val.name)+'"')]),t._v(" item in "+t._s(t.selected.key)+" component?\n            ")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(e){t.warning=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"error"},on:{click:t.removeItem}},[t._v("\n                    Remove\n                ")])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{"multi-line":"",elevation:"12",color:t.alert.color,transition:"scroll-x-reverse-transition",top:"",right:""},model:{value:t.alert.trigger,callback:function(e){t.$set(t.alert,"trigger",e)},expression:"alert.trigger"}},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"mr-2"},[a("v-icon",{attrs:{large:""}},[t._v("info")]),t._v("\n        "+t._s(t.alert.text)+"\n        ")],1),t._v(" "),a("v-btn",{on:{click:function(e){t.alert.trigger=!1}}},[t._v("\n        Close\n        ")])],1)])],1)}),[],!1,null,null,null);e.default=o.exports}}]);